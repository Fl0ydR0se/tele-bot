<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>Chart.js demo</title>
    <!-- import plugin script -->
    <script src='https://cdnjs.cloudflare.com/ajax/libs/Chart.js/1.0.2/Chart.min.js'></script>
</head>

<body>

    <canvas id="income" width="1024" height="768"></canvas>
    <script>
        // line chart data
        // bar chart data
        const ggg = []
        const data = fetch('http://localhost:3000/get').then(response => {
            // console.log(response.json().then((x) => console.log(x.data)
            // ));
            response.json().then((x) => {

               
                // response.body.map(x => ggg.push(x.url))
                // console.log(ggg);
                const label =  x.data;
                console.log(label);


                var barData = {
                    labels: label,
                    datasets: [
                        {
                            fillColor: "#48A497",
                            strokeColor: "#48A4D1",
                            data: [456, 250, 100, 150, 500]
                        },
                        // {
                        //     fillColor : "rgba(73,188,170,0.4)",
                        //     strokeColor : "rgba(72,174,209,0.4)",
                        //     data : [364,504,605,400,345,320]
                        // }
                    ]
                }

                // get bar chart canvas
                var income = document.getElementById("income").getContext("2d");
                // draw bar chart
                new Chart(income).Bar(barData);
            });

        })
    </script>
</body>

</html>